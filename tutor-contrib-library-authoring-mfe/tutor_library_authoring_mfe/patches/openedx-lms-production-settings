MFE_CONFIG_OVERRIDES.setdefault("library-authoring", {})["BLOCKSTORE_COLLECTION_UUID"] = "{{BLOCKSTORE_COLLECTION_UUID}}"
MFE_CONFIG_OVERRIDES["library-authoring"]["SECURE_ORIGIN_XBLOCK_BOOTSTRAP_HTML_URL"] = "/library-authoring/xblock-bootstrap.html"
# Tutor overwrites webpack.dev.config.js, but this MFE depends on some code in that file to work correctly in
# development, so we have to restore it here manually.
# https://github.com/openedx/frontend-app-library-authoring/blob/b95c198b/webpack.dev.config.js
MFE_CONFIG_OVERRIDES["library-authoring"]["mfe-webpack-dev-config"] = """
const fs = require('fs');

// If this is the Library Authoring MFE, apply this fix:
if (fs.existsSync("src/library-authoring/edit-block/LibraryBlock/xblock-bootstrap.html")) {
    const path = require('path');
    const CopyWebpackPlugin = require('copy-webpack-plugin');
    module.exports = merge(module.exports, {
    plugins: [
        new CopyWebpackPlugin({
        patterns: [{
            context: path.resolve(__dirname, 'src/library-authoring/edit-block/LibraryBlock'),
            from: 'xblock-bootstrap.html',
        }],
        }),
    ],
    });
}
"""